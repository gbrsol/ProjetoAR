<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    </head>
    <body>
        <script>
            AFRAME.registerComponent('vidhandler', {
            init: function () {
                this.toggle = false;
                document.querySelector("#vid").pause(); //reference to the video
                console.log('Toggle false');
            },
            tick:function(){  
                if(document.querySelector("a-marker").object3D.visible == true)
                {
                   if (!this.toggle) {
                        this.toggle = true;
                        document.querySelector("#vid").play();
                        console.log('Toggle virou true');
                    }
                }
            else{
                this.toggle = false;
                document.querySelector("#vid").pause();
                console.log('Toggle virou false');
            }
            }
            });
        </script>
        <a-scene embedded arjs>
              <a-assets>
                  <video id="vid" src="assets/videos/video.mp4"></a-asset-item>
              </a-assets>
              <a-marker type="pattern" url="assets/markers/marker.patt">
                <a-video vidhandler src="#vid" width="2" height="1.3" position="0 0.2 0.3" rotation="180 180 0"></a-video>
              </a-marker>
              <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>
